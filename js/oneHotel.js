import"./oneHotelOffer.js";import{S as P,N as Y,P as b}from"./swiper-core.js";/* empty css            */import{b as h}from"./api.js";import{g as D}from"./hotels.js";import{g as j}from"./listHotel.js";import{h as X}from"./hotDealsCard.js";import"./authorization2.js";import"./variables.js";function A(C={}){const a=(t=>{if(typeof atob=="function"&&typeof TextDecoder<"u"){const o=atob(t),l=new Uint8Array(o.length);for(let c=0;c<o.length;c++)l[c]=o.charCodeAt(c);return new TextDecoder("utf-8").decode(l)}if(typeof Buffer<"u")return Buffer.from(t,"base64").toString("utf-8");const e=atob(t);try{return decodeURIComponent(escape(e))}catch{return e}})("PGZvcm0gZGF0YS1jb21wb25lbnQ9Im9uZUhvdGVsT2ZmZXIiIGNsYXNzPSJob3RlbF9fb2ZmZXItd3JhcHBlciI+DQogIDxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci10aXRsZSI+DQogICAgPHNwYW4+0JLRi9Cx0YDQsNC90L3Ri9C5INGC0YPRgDwvc3Bhbj4NCiAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCI+0LjQt9C80LXQvdC40YLRjDwvYnV0dG9uPg0KPC9kaXY+DQo8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItZGF0ZXMiPg0KICA8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItZGF0ZSI+DQogICAgPHN2Zz4NCiAgICA8dXNlIHhsaW5rOmhyZWY9JyNpY29uLWNhbGVuZGFyJz48L3VzZT4NCiAgPC9zdmc+DQogICAgPHNwYW4+MTgg0LjRjtC90Y8gMjAyMCDQsy4gfCB7e25pZ2h0fX3QvdC+0YfQtdC5PC9zcGFuPg0KICA8L2Rpdj4NCiAgPGRpdiBjbGFzcz0iaG90ZWxfX29mZmVyLXJhaXNlIj4NCiAgICA8c3ZnPg0KICAgIDx1c2UgeGxpbms6aHJlZj0nI2ljb24tZGVwYXJ0dXJlJz48L3VzZT4NCiAgPC9zdmc+DQogICAgPHNwYW4+0JLRi9C70LXRgiDQuNC3IHt7ZnJvbX19PC9zcGFuPg0KICA8L2Rpdj4NCiAgPGRpdiBjbGFzcz0iaG90ZWxfX29mZmVyLWZvb2QiPg0KICAgIDxzdmc+DQogICAgPHVzZSB4bGluazpocmVmPScjaWNvbi1mb29kJz48L3VzZT4NCiAgPC9zdmc+DQogICAgPHNwYW4+e3tmb29kfX08L3NwYW4+DQogIDwvZGl2Pg0KICA8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItaG91c2VzIj4NCiAgICA8c3ZnPg0KICAgIDx1c2UgeGxpbms6aHJlZj0nI2ljb24tYXBhcnRtZW50Jz48L3VzZT4NCiAgPC9zdmc+DQogICAgPHNwYW4+e3tob3VzZXN9fTwvc3Bhbj4NCiAgPC9kaXY+DQo8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItcHJpY2UiPg0KICAgPGI+e3twcmljZXN9feKCrDwvYj4NCi/Rh9C10LsNCjwvZGl2Pg0KPGRpdiBjbGFzcz0iaG90ZWxfX29mZmVyLWRlc2NyaXB0aW9uIj4NCjxiPtCm0LXQvdCwINC90LAg0L7QtNC90L7Qs9C+INGH0LXQu9C+0LLQtdC60LAgPC9iPg0K0LTQtdC50YHRgtCy0LjRgtC10LvRjNC90LAg0L/RgNC4INGA0LDQt9C80LXRidC10L3QuNC4INCyINC00LLRg9GF0LzQtdGB0YLQvdC+0Lwg0L3QvtC80LXRgNC1LiDQptC10L3QsCDQt9Cw0LLQuNGB0LjRgiDQvtGCINC60L7Qu9C40YfQtdGB0YLQstCwINC80LXRgdGCINC4INC80L7QttC10YIg0LjQt9C80LXQvdC40YLRjNGB0Y8uDQo8L2Rpdj4NCjxkaXYgY2xhc3M9Imd1ZXN0cyI+DQogIDxsYWJlbCBmb3I9Imd1ZXN0cyI+0JrQvtC70LjRh9C10YHRgtCy0L4g0L7RgtC00YvRhdCw0Y7RidC40YU8L2xhYmVsPg0KICAgPGRpdiBjbGFzcz0ibGFiZWwiPtCS0LfRgNC+0YHQu9C40YU8L2Rpdj4NCiAgPGlucHV0IHR5cGU9InRleHQiPg0KICA8ZGl2IGNsYXNzPSJsYWJlbCI+0LTQtdGC0LXQuTwvZGl2Pg0KICA8aW5wdXQgdHlwZT0idGV4dCI+DQo8L2Rpdj4NCjxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci10b3RhbCI+DQogINCe0LHRidCw0Y8g0YHRgtC+0LjQvNC+0YHRgtGMINGC0YPRgNCwOg0KPHNwYW4+DQogIDxiIGlkPSJwcmljZSI+MSA0Mjnigqw8L2I+DQo8L3NwYW4+DQo8L2Rpdj4NCjxidXR0b24gdHlwZT0iYnV0dG9uIiBjbGFzcz0iaG90ZWxfX29mZmVyLWJ1dHRvbiBidXR0b24tcHJpbWFyeSI+DQogINCR0YDQvtC90LjRgNC+0LLQsNGC0YwNCjwvYnV0dG9uPg0KPGRpdiBjbGFzcz0iaG90ZWxfX29mZmVyLXBvbGljeSI+DQo8c3ZnPg0KICA8dXNlIHhsaW5rOmhyZWY9JyNpY29uLXBvbGljeS1sb2NrJz48L3VzZT4NCjwvc3ZnPg0KICA8ZGl2Pg0KICDQktCw0YjQuCDQtNCw0L3QvdGL0LUg0L3QsNC00LXQttC90L4g0LfQsNGJ0LjRidC10L3RiyDQuCDQvtCx0YDQsNCx0LDRgtGL0LLQsNGO0YLRgdGPINGB0L7Qs9C70LDRgdC90L4g0YEgDQogIDxzcGFuPg0KICANCiAg0YPRgdC70L7QstC40Y/QvNC4INC+0LHRgNCw0LHQvtGC0LrQuCDQu9C40YfQvdGL0YUg0LTQsNC90L3Ri9GFDQogIDwvc3Bhbj4NCg0KICA8L2Rpdj4NCjwvZGl2Pg0KPC9kaXY+DQo8L2Zvcm0+DQogIA==");let i={...C};const I="{",G="}",n=I+I,s=G+G;function R(t){let e=a,o=10,l=0;for(;l<o&&e.indexOf(n+"#if")!==-1;)l++,e=e.replace(new RegExp(`${n}#if\\s+([^}]+?)${s}([\\s\\S]*?)${n}else\\s*${s}([\\s\\S]*?)${n}\\/if\\s*${s}`,"g"),(c,L,f,N)=>t[L.trim()]?f:N),e=e.replace(new RegExp(`${n}#if\\s+([^}]+?)${s}([\\s\\S]*?)${n}\\/if\\s*${s}`,"g"),(c,L,f)=>t[L.trim()]?f:""),e=e.replace(new RegExp(`${n}#if\\s*\\((eq\\s+([^\\s]+)\\s+"([^"]+)"\\s*)\\)${s}([\\s\\S]*?)${n}else\\s*${s}([\\s\\S]*?)${n}\\/if\\s*${s}`,"g"),(c,L,f,N,p,Z)=>t[f]===N?p:Z),e=e.replace(new RegExp(`${n}#if\\s*\\((eq\\s+([^\\s]+)\\s+"([^"]+)"\\s*)\\)${s}([\\s\\S]*?)${n}\\/if\\s*${s}`,"g"),(c,L,f,N,p)=>t[f]===N?p:"");return Object.keys(t).forEach(c=>{const L=new RegExp(`${n}\\s*${c}\\s*${s}`,"g");e=e.replace(L,t[c]??"")}),e=e.replace(/\s[a-zA-Z0-9_-]+=['"]\s*['"]/g,""),e=e.replace(new RegExp(`${n}[^}]+?${s}`,"g"),""),e}function m(t){const e=R(t),o=document.createElement("div");return o.innerHTML=e.trim(),o.firstElementChild}let g=m(i);const d={};function w(t){if(i={...i,...t},g.parentElement){const e=g.parentElement,o=m(i);return Object.keys(d).forEach(l=>o[l]=d[l]),e.replaceChild(o,g),g=o,o}else{const e=m(i);return Object.keys(d).forEach(o=>e[o]=d[o]),g=e,e}}return d.update=w,d.toString=()=>g?.outerHTML??"",d.render=t=>(t&&t.appendChild&&t.appendChild(g),g),Object.keys(d).forEach(t=>g[t]=d[t]),g}async function v(C,r){const a=localStorage.getItem("token");try{const i=await h.post("https://deserving-apparel-f938801c39.strapiapp.com/api/orders",{data:r},{headers:{Authorization:`Bearer ${a}`}});return console.log("created ",i.data),i.data}catch(i){console.error("error:",i)}}const z=new URLSearchParams(window.location.search),Q=z.get("id");console.log("Hotel ID:",Q);const u=await D(Q);function S(){const C=document.querySelector(".hotel__offer");if(!C)return;const r=A({night:7,from:u.from,food:u.food,houses:u.houses,prices:u.price});return C.appendChild(r)}const y=await j();function H(){document.querySelector(".mySwiperHotDeals")&&new P(".mySwiperHotDeals",{modules:[Y,b],loop:!0,slidesPerView:3,spaceBetween:25,navigation:{nextEl:".swiper__hotdeals-next",prevEl:".swiper__hotdeals-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:15},768:{slidesPerView:2,spaceBetween:28},1200:{slidesPerView:3,spaceBetween:26}}})}function x(){const C=document.querySelector(".hotdeals__container");C&&y.forEach(r=>{let a="";for(let I=0;I<r.stars;I++)a+=`
      <svg class="hotdeals__category-star">
      <use xlink:href="#icon-star-shiny"></use>
      </svg>`;const i=X({img:r.img[0].url,data:r.data,location:r.location,title:r.title,price:r.price,oldPrice:r.oldPrice,priceCount:r.priceCount,stars:a});C.appendChild(i)})}S();H();x();async function B(){const C=Date.now(),r=new Date().toISOString(),a=localStorage.getItem("userId");if(!a){console.log("не авторизований користувач"),window.location.href="/ClubTravel/html/pages/authorization.html?tab=authorization";return}const i={orderNumber:C,orderPrice:679,orderStatus:!1,orderDate:r,users_permissions_user:a};try{await v(a,i),console.log("замовлення додано")}catch(I){console.log("error:",I)}}const J=document.querySelector(".hotel__offer-button");J.addEventListener("click",B);
