import"./main2.js";/* empty css       *//* empty css          *//* empty css            */import{N as b,P as v}from"./pagination2.js";import{Swiper as R}from"./swiper.js";import{a as Y}from"./api.js";import{g as Z}from"./hotels.js";import{g as D}from"./listHotel.js";import{h as w}from"./hotDealsCard.js";import"./authorization2.js";import"./utils.js";import"./variables.js";import"./skeleton.js";function A(c={}){const C=(t=>{if(typeof atob=="function"&&typeof TextDecoder<"u"){const r=atob(t),l=new Uint8Array(r.length);for(let a=0;a<r.length;a++)l[a]=r.charCodeAt(a);return new TextDecoder("utf-8").decode(l)}if(typeof Buffer<"u")return Buffer.from(t,"base64").toString("utf-8");const e=atob(t);try{return decodeURIComponent(escape(e))}catch{return e}})("PGZvcm0gY2xhc3M9ImhvdGVsX19vZmZlci13cmFwcGVyIj4NCiAgPGRpdiBjbGFzcz0iaG90ZWxfX29mZmVyLXRpdGxlIj4NCiAgICA8c3Bhbj7QktGL0LHRgNCw0L3QvdGL0Lkg0YLRg9GAPC9zcGFuPg0KICAgIDxidXR0b24gdHlwZT0ic3VibWl0Ij7QuNC30LzQtdC90LjRgtGMPC9idXR0b24+DQo8L2Rpdj4NCjxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci1kYXRlcyI+DQogIDxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci1kYXRlIj4NCiAgICA8c3ZnPg0KICAgIDx1c2UgeGxpbms6aHJlZj0nI2ljb24tY2FsZW5kYXInPjwvdXNlPg0KICA8L3N2Zz4NCiAgICA8c3Bhbj4xOCDQuNGO0L3RjyAyMDIwINCzLiB8IHt7bmlnaHR9fdC90L7Rh9C10Lk8L3NwYW4+DQogIDwvZGl2Pg0KICA8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItcmFpc2UiPg0KICAgIDxzdmc+DQogICAgPHVzZSB4bGluazpocmVmPScjaWNvbi1kZXBhcnR1cmUnPjwvdXNlPg0KICA8L3N2Zz4NCiAgICA8c3Bhbj7QktGL0LvQtdGCINC40Lcge3tmcm9tfX08L3NwYW4+DQogIDwvZGl2Pg0KICA8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItZm9vZCI+DQogICAgPHN2Zz4NCiAgICA8dXNlIHhsaW5rOmhyZWY9JyNpY29uLWZvb2QnPjwvdXNlPg0KICA8L3N2Zz4NCiAgICA8c3Bhbj57e2Zvb2R9fTwvc3Bhbj4NCiAgPC9kaXY+DQogIDxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci1ob3VzZXMiPg0KICAgIDxzdmc+DQogICAgPHVzZSB4bGluazpocmVmPScjaWNvbi1hcGFydG1lbnQnPjwvdXNlPg0KICA8L3N2Zz4NCiAgICA8c3Bhbj57e2hvdXNlc319PC9zcGFuPg0KICA8L2Rpdj4NCjxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci1wcmljZSI+DQogICA8Yj57e3ByaWNlc3194oKsPC9iPg0KL9GH0LXQuw0KPC9kaXY+DQo8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItZGVzY3JpcHRpb24iPg0KPGI+0KbQtdC90LAg0L3QsCDQvtC00L3QvtCz0L4g0YfQtdC70L7QstC10LrQsCA8L2I+DQrQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QsCDQv9GA0Lgg0YDQsNC30LzQtdGJ0LXQvdC40Lgg0LIg0LTQstGD0YXQvNC10YHRgtC90L7QvCDQvdC+0LzQtdGA0LUuINCm0LXQvdCwINC30LDQstC40YHQuNGCINC+0YIg0LrQvtC70LjRh9C10YHRgtCy0LAg0LzQtdGB0YIg0Lgg0LzQvtC20LXRgiDQuNC30LzQtdC90LjRgtGM0YHRjy4NCjwvZGl2Pg0KPGRpdiBjbGFzcz0iZ3Vlc3RzIj4NCiAgPGxhYmVsIGZvcj0iZ3Vlc3RzIj7QmtC+0LvQuNGH0LXRgdGC0LLQviDQvtGC0LTRi9GF0LDRjtGJ0LjRhTwvbGFiZWw+DQogICA8bGFiZWwgZm9yPSJvbGQiIGNsYXNzPSJsYWJlbCI+0JLQt9GA0L7RgdC70LjRhTwvbGFiZWw+DQogIDxpbnB1dCBpZD0ib2xkIiBuYW1lPSJvbGQiIHR5cGU9InRleHQiPg0KICA8bGFiZWwgZm9yPSJjaGlsZCIgY2xhc3M9ImxhYmVsIj7QtNC10YLQtdC5PC9sYWJlbD4NCiAgPGlucHV0IGlkPSJjaGlsZCIgbmFtZT0iY2hpbGQiIHR5cGU9InRleHQiPg0KPC9kaXY+DQo8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItdG90YWwiPg0KICDQntCx0YnQsNGPINGB0YLQvtC40LzQvtGB0YLRjCDRgtGD0YDQsDoNCjxzcGFuPg0KICA8YiBpZD0icHJpY2UiPjEgNDI54oKsPC9iPg0KPC9zcGFuPg0KPC9kaXY+DQo8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImhvdGVsX19vZmZlci1idXR0b24gYnV0dG9uLXByaW1hcnkiPg0KICDQkdGA0L7QvdC40YDQvtCy0LDRgtGMDQo8L2J1dHRvbj4NCjxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci1wb2xpY3kiPg0KPHN2Zz4NCiAgPHVzZSB4bGluazpocmVmPScjaWNvbi1wb2xpY3ktbG9jayc+PC91c2U+DQo8L3N2Zz4NCiAgPGRpdj4NCiAg0JLQsNGI0Lgg0LTQsNC90L3Ri9C1INC90LDQtNC10LbQvdC+INC30LDRidC40YnQtdC90Ysg0Lgg0L7QsdGA0LDQsdCw0YLRi9Cy0LDRjtGC0YHRjyDRgdC+0LPQu9Cw0YHQvdC+INGBIA0KICA8c3Bhbj4NCiAgDQogINGD0YHQu9C+0LLQuNGP0LzQuCDQvtCx0YDQsNCx0L7RgtC60Lgg0LvQuNGH0L3Ri9GFINC00LDQvdC90YvRhQ0KICA8L3NwYW4+DQoNCiAgPC9kaXY+DQo8L2Rpdj4NCjwvZGl2Pg0KPC9mb3JtPg0KICA=");let i={...c};const I="{",f="}",n=I+I,s=f+f;function N(t){let e=C,r=10,l=0;for(;l<r&&e.indexOf(n+"#if")!==-1;)l++,e=e.replace(new RegExp(`${n}#if\\s+([^}]+?)${s}([\\s\\S]*?)${n}else\\s*${s}([\\s\\S]*?)${n}\\/if\\s*${s}`,"g"),(a,L,m,G)=>t[L.trim()]?m:G),e=e.replace(new RegExp(`${n}#if\\s+([^}]+?)${s}([\\s\\S]*?)${n}\\/if\\s*${s}`,"g"),(a,L,m)=>t[L.trim()]?m:""),e=e.replace(new RegExp(`${n}#if\\s*\\((eq\\s+([^\\s]+)\\s+"([^"]+)"\\s*)\\)${s}([\\s\\S]*?)${n}else\\s*${s}([\\s\\S]*?)${n}\\/if\\s*${s}`,"g"),(a,L,m,G,u,h)=>t[m]===G?u:h),e=e.replace(new RegExp(`${n}#if\\s*\\((eq\\s+([^\\s]+)\\s+"([^"]+)"\\s*)\\)${s}([\\s\\S]*?)${n}\\/if\\s*${s}`,"g"),(a,L,m,G,u)=>t[m]===G?u:"");return Object.keys(t).forEach(a=>{const L=new RegExp(`${n}\\s*${a}\\s*${s}`,"g");e=e.replace(L,t[a]??"")}),e=e.replace(/\s[a-zA-Z0-9_-]+=['"]\s*['"]/g,""),e=e.replace(new RegExp(`${n}[^}]+?${s}`,"g"),""),e}function Q(t){const e=N(t),r=document.createElement("div");return r.innerHTML=e.trim(),r.firstElementChild}let g=Q(i);const d={};function P(t){if(i={...i,...t},g.parentElement){const e=g.parentElement,r=Q(i);return Object.keys(d).forEach(l=>r[l]=d[l]),e.replaceChild(r,g),g=r,r}else{const e=Q(i);return Object.keys(d).forEach(r=>e[r]=d[r]),g=e,e}}return d.update=P,d.toString=()=>g?.outerHTML??"",d.render=t=>(t&&t.appendChild&&t.appendChild(g),g),Object.keys(d).forEach(t=>g[t]=d[t]),g}async function j(c,o){const C=localStorage.getItem("token");try{const i=await Y.post("https://deserving-apparel-f938801c39.strapiapp.com/api/orders",{data:o},{headers:{Authorization:`Bearer ${C}`}});return console.log("created ",i.data),i.data}catch(i){console.error("error:",i)}}const X=new URLSearchParams(window.location.search),x=X.get("id"),p=await Z(x);function z(){const c=document.querySelector(".hotel__offer");if(!c)return;const o=A({night:7,from:p.from,food:p.food,houses:p.houses,prices:p.price});return c.appendChild(o)}const y=await D();function S(){document.querySelector(".mySwiperHotDeals")&&new R(".mySwiperHotDeals",{modules:[b,v],loop:!0,slidesPerView:3,spaceBetween:25,navigation:{nextEl:".swiper__hotdeals-next",prevEl:".swiper__hotdeals-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:15},768:{slidesPerView:2,spaceBetween:28},1200:{slidesPerView:3,spaceBetween:26}}})}function H(){const c=document.querySelector(".hotdeals__container");c&&y.forEach(o=>{let C="";for(let I=0;I<o.stars;I++)C+=`
      <svg class="hotdeals__category-star">
      <use xlink:href="#icon-star-shiny"></use>
      </svg>`;const i=w({img:o.img[0].url,data:o.data,location:o.location,title:o.title,price:o.price,oldPrice:o.oldPrice,priceCount:o.priceCount,stars:C});c.appendChild(i)})}z();S();H();async function B(){const c=Date.now(),o=new Date().toISOString(),C=localStorage.getItem("userId");if(!C){console.log("не авторизований користувач"),window.location.href="/ClubTravel/html/pages/authorization.html?tab=authorization";return}const i={orderNumber:c,orderPrice:679,orderStatus:!1,orderDate:o,users_permissions_user:C};try{await j(C,i),console.log("замовлення додано")}catch(I){console.log("error:",I)}}const k=document.querySelector(".hotel__offer-button");k.addEventListener("click",B);
