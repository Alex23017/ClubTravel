import"./main2.js";/* empty css       *//* empty css          *//* empty css            */import{N as S,P as x}from"./pagination2.js";import{Swiper as y}from"./swiper.js";import{a as z}from"./api.js";import{g as B,a as H}from"./hotels.js";import{g as E}from"./listHotel.js";import{h as k}from"./hotDealsCard.js";import"./authorization2.js";import"./utils.js";import"./variables.js";import"./skeleton.js";function W(i={}){const a=(o=>{if(typeof atob=="function"&&typeof TextDecoder<"u"){const r=atob(o),g=new Uint8Array(r.length);for(let l=0;l<r.length;l++)g[l]=r.charCodeAt(l);return new TextDecoder("utf-8").decode(g)}if(typeof Buffer<"u")return Buffer.from(o,"base64").toString("utf-8");const e=atob(o);try{return decodeURIComponent(escape(e))}catch{return e}})("PGZvcm0gY2xhc3M9ImhvdGVsX19vZmZlci13cmFwcGVyIj4NCiAgPGRpdiBjbGFzcz0iaG90ZWxfX29mZmVyLXRpdGxlIj4NCiAgICA8c3Bhbj7QktGL0LHRgNCw0L3QvdGL0Lkg0YLRg9GAPC9zcGFuPg0KICAgIDxidXR0b24gdHlwZT0ic3VibWl0Ij7QuNC30LzQtdC90LjRgtGMPC9idXR0b24+DQo8L2Rpdj4NCjxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci1kYXRlcyI+DQogIDxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci1kYXRlIj4NCiAgICA8c3ZnPg0KICAgIDx1c2UgeGxpbms6aHJlZj0nI2ljb24tY2FsZW5kYXInPjwvdXNlPg0KICA8L3N2Zz4NCiAgICA8c3Bhbj4xOCDQuNGO0L3RjyAyMDIwINCzLiB8IHt7bmlnaHR9fdC90L7Rh9C10Lk8L3NwYW4+DQogIDwvZGl2Pg0KICA8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItcmFpc2UiPg0KICAgIDxzdmc+DQogICAgPHVzZSB4bGluazpocmVmPScjaWNvbi1kZXBhcnR1cmUnPjwvdXNlPg0KICA8L3N2Zz4NCiAgICA8c3Bhbj7QktGL0LvQtdGCINC40Lcge3tmcm9tfX08L3NwYW4+DQogIDwvZGl2Pg0KICA8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItZm9vZCI+DQogICAgPHN2Zz4NCiAgICA8dXNlIHhsaW5rOmhyZWY9JyNpY29uLWZvb2QnPjwvdXNlPg0KICA8L3N2Zz4NCiAgICA8c3Bhbj57e2Zvb2R9fTwvc3Bhbj4NCiAgPC9kaXY+DQogIDxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci1ob3VzZXMiPg0KICAgIDxzdmc+DQogICAgPHVzZSB4bGluazpocmVmPScjaWNvbi1hcGFydG1lbnQnPjwvdXNlPg0KICA8L3N2Zz4NCiAgICA8c3Bhbj57e2hvdXNlc319PC9zcGFuPg0KICA8L2Rpdj4NCjxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci1wcmljZSI+DQogICA8Yj57e3ByaWNlc3194oKsPC9iPg0KL9GH0LXQuw0KPC9kaXY+DQo8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItZGVzY3JpcHRpb24iPg0KPGI+0KbQtdC90LAg0L3QsCDQvtC00L3QvtCz0L4g0YfQtdC70L7QstC10LrQsCA8L2I+DQrQtNC10LnRgdGC0LLQuNGC0LXQu9GM0L3QsCDQv9GA0Lgg0YDQsNC30LzQtdGJ0LXQvdC40Lgg0LIg0LTQstGD0YXQvNC10YHRgtC90L7QvCDQvdC+0LzQtdGA0LUuINCm0LXQvdCwINC30LDQstC40YHQuNGCINC+0YIg0LrQvtC70LjRh9C10YHRgtCy0LAg0LzQtdGB0YIg0Lgg0LzQvtC20LXRgiDQuNC30LzQtdC90LjRgtGM0YHRjy4NCjwvZGl2Pg0KPGRpdiBjbGFzcz0iZ3Vlc3RzIj4NCiAgPGxhYmVsPtCa0L7Qu9C40YfQtdGB0YLQstC+INC+0YLQtNGL0YXQsNGO0YnQuNGFPC9sYWJlbD4NCg0KICA8bGFiZWwgZm9yPSJvbGQiPtCS0LfRgNC+0YHQu9GL0YU8L2xhYmVsPg0KICA8aW5wdXQgaWQ9Im9sZCIgbmFtZT0ib2xkIiB0eXBlPSJudW1iZXIiIG1pbj0iMSIgdmFsdWU9IjEiPg0KDQogIDxsYWJlbCBmb3I9ImNoaWxkIj7QlNC10YLQtdC5PC9sYWJlbD4NCiAgPGlucHV0IGlkPSJjaGlsZCIgbmFtZT0iY2hpbGQiIHR5cGU9Im51bWJlciIgbWluPSIwIiB2YWx1ZT0iMCI+DQo8L2Rpdj4NCg0KPGRpdiBjbGFzcz0iaG90ZWxfX29mZmVyLXRvdGFsIj4NCiAg0J7QsdGJ0LDRjyDRgdGC0L7QuNC80L7RgdGC0Ywg0YLRg9GA0LA6DQogIDxzcGFuPjxiIGlkPSJwcmljZSI+e3twcmljZXN9feKCrDwvYj48L3NwYW4+DQo8L2Rpdj4NCg0KPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJob3RlbF9fb2ZmZXItYnV0dG9uIGJ1dHRvbi1wcmltYXJ5Ij4NCiAg0JHRgNC+0L3QuNGA0L7QstCw0YLRjA0KPC9idXR0b24+DQo8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItcG9saWN5Ij4NCjxzdmc+DQogIDx1c2UgeGxpbms6aHJlZj0nI2ljb24tcG9saWN5LWxvY2snPjwvdXNlPg0KPC9zdmc+DQogIDxkaXY+DQogINCS0LDRiNC4INC00LDQvdC90YvQtSDQvdCw0LTQtdC20L3QviDQt9Cw0YnQuNGJ0LXQvdGLINC4INC+0LHRgNCw0LHQsNGC0YvQstCw0Y7RgtGB0Y8g0YHQvtCz0LvQsNGB0L3QviDRgSANCiAgPHNwYW4+DQogIA0KICDRg9GB0LvQvtCy0LjRj9C80Lgg0L7QsdGA0LDQsdC+0YLQutC4INC70LjRh9C90YvRhSDQtNCw0L3QvdGL0YUNCiAgPC9zcGFuPg0KDQogIDwvZGl2Pg0KPC9kaXY+DQo8L2Rpdj4NCjwvZm9ybT4NCiAg");let n={...i};const I="{",f="}",c=I+I,s=f+f;function j(o){let e=a,r=10,g=0;for(;g<r&&e.indexOf(c+"#if")!==-1;)g++,e=e.replace(new RegExp(`${c}#if\\s+([^}]+?)${s}([\\s\\S]*?)${c}else\\s*${s}([\\s\\S]*?)${c}\\/if\\s*${s}`,"g"),(l,u,m,L)=>o[u.trim()]?m:L),e=e.replace(new RegExp(`${c}#if\\s+([^}]+?)${s}([\\s\\S]*?)${c}\\/if\\s*${s}`,"g"),(l,u,m)=>o[u.trim()]?m:""),e=e.replace(new RegExp(`${c}#if\\s*\\((eq\\s+([^\\s]+)\\s+"([^"]+)"\\s*)\\)${s}([\\s\\S]*?)${c}else\\s*${s}([\\s\\S]*?)${c}\\/if\\s*${s}`,"g"),(l,u,m,L,N,X)=>o[m]===L?N:X),e=e.replace(new RegExp(`${c}#if\\s*\\((eq\\s+([^\\s]+)\\s+"([^"]+)"\\s*)\\)${s}([\\s\\S]*?)${c}\\/if\\s*${s}`,"g"),(l,u,m,L,N)=>o[m]===L?N:"");return Object.keys(o).forEach(l=>{const u=new RegExp(`${c}\\s*${l}\\s*${s}`,"g");e=e.replace(u,o[l]??"")}),e=e.replace(/\s[a-zA-Z0-9_-]+=['"]\s*['"]/g,""),e=e.replace(new RegExp(`${c}[^}]+?${s}`,"g"),""),e}function p(o){const e=j(o),r=document.createElement("div");return r.innerHTML=e.trim(),r.firstElementChild}let d=p(n);const C={};function A(o){if(n={...n,...o},d.parentElement){const e=d.parentElement,r=p(n);return Object.keys(C).forEach(g=>r[g]=C[g]),e.replaceChild(r,d),d=r,r}else{const e=p(n);return Object.keys(C).forEach(r=>e[r]=C[r]),d=e,e}}return C.update=A,C.toString=()=>d?.outerHTML??"",C.render=o=>(o&&o.appendChild&&o.appendChild(d),d),Object.keys(C).forEach(o=>d[o]=C[o]),d}async function K(i,t){const a=localStorage.getItem("token");try{const n=await z.post("https://natural-blessing-879c2058f8.strapiapp.com/api/orders",{data:t},{headers:{Authorization:`Bearer ${a}`}});return console.log("created ",n.data),n.data}catch(n){console.error("error:",n)}}let P=null,w=null;const v=new URLSearchParams(window.location.search),Y=v.get("id"),R=v.get("type");R==="hotel"&&(P=await B(Y));R==="search"&&(w=await H(Y));function $(){const i=document.querySelector(".hotel__offer");if(!i)return;const t=P||w;if(!t)return;const a=W({night:7,from:t.from??t.town,food:t.food??"Завтраки",houses:t.package??"Стандарт",prices:t.price??t.price});return i.appendChild(a)}const J=await E();function V(){document.querySelector(".mySwiperHotDeals")&&new y(".mySwiperHotDeals",{modules:[S,x],loop:!0,slidesPerView:3,spaceBetween:25,navigation:{nextEl:".swiper__hotdeals-next",prevEl:".swiper__hotdeals-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:15},768:{slidesPerView:2,spaceBetween:28},1200:{slidesPerView:3,spaceBetween:26}}})}let Q;const F=.5;function O(){const i=document.querySelector(".hotdeals__container");i&&J.forEach(t=>{let a="";for(let I=0;I<t.stars;I++)a+=`
      <svg class="hotdeals__category-star">
      <use xlink:href="#icon-star-shiny"></use>
      </svg>`;const n=k({img:t.img[0].url,data:t.data,location:t.location,title:t.title,price:t.price,oldPrice:t.oldPrice,priceCount:t.priceCount,stars:a});Q=t.price,i.appendChild(n)})}$();O();V();const G=document.getElementById("old"),D=document.getElementById("child"),_=document.getElementById("price");function Z(){const i=Number(G.value)||0,t=Number(D.value)||0;return i*Q+t*Q*F}function b(){const i=Z();_.innerHTML=`${i}€`}G&&(G.addEventListener("input",b),D.addEventListener("input",b));async function T(){const i=Date.now(),t=new Date().toISOString(),a=Z(),n=localStorage.getItem("userId");if(!n){console.log("не авторизований користувач"),window.location.href="/ClubTravel/html/pages/authorization.html?tab=authorization";return}const I={orderNumber:i,orderPrice:a,orderStatus:!1,orderDate:t,users_permissions_user:n};try{await K(n,I),console.log("замовлення додано"),window.location.href="/ClubTravel/"}catch(f){console.log("error:",f)}}const h=document.querySelector(".hotel__offer-button");h&&h.addEventListener("click",T);
