import"./oneHotelOffer.js";/* empty css       *//* empty css          *//* empty css            */import{N as Z,P as w}from"./pagination2.js";import{Swiper as Y}from"./swiper.js";import{a as h}from"./api.js";import{g as R}from"./hotels.js";import{g as j}from"./listHotel.js";import{h as X}from"./hotDealsCard.js";import"./authorization2.js";import"./utils.js";import"./variables.js";function D(a={}){const c=(t=>{if(typeof atob=="function"&&typeof TextDecoder<"u"){const o=atob(t),l=new Uint8Array(o.length);for(let C=0;C<o.length;C++)l[C]=o.charCodeAt(C);return new TextDecoder("utf-8").decode(l)}if(typeof Buffer<"u")return Buffer.from(t,"base64").toString("utf-8");const e=atob(t);try{return decodeURIComponent(escape(e))}catch{return e}})("PGZvcm0gZGF0YS1jb21wb25lbnQ9Im9uZUhvdGVsT2ZmZXIiIGNsYXNzPSJob3RlbF9fb2ZmZXItd3JhcHBlciI+DQogIDxkaXYgY2xhc3M9ImhvdGVsX19vZmZlci10aXRsZSI+DQogICAgPHNwYW4+0JLRi9Cx0YDQsNC90L3Ri9C5INGC0YPRgDwvc3Bhbj4NCiAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCI+0LjQt9C80LXQvdC40YLRjDwvYnV0dG9uPg0KPC9kaXY+DQo8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItZGF0ZXMiPg0KICA8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItZGF0ZSI+DQogICAgPHN2Zz4NCiAgICA8dXNlIHhsaW5rOmhyZWY9JyNpY29uLWNhbGVuZGFyJz48L3VzZT4NCiAgPC9zdmc+DQogICAgPHNwYW4+MTgg0LjRjtC90Y8gMjAyMCDQsy4gfCB7e25pZ2h0fX3QvdC+0YfQtdC5PC9zcGFuPg0KICA8L2Rpdj4NCiAgPGRpdiBjbGFzcz0iaG90ZWxfX29mZmVyLXJhaXNlIj4NCiAgICA8c3ZnPg0KICAgIDx1c2UgeGxpbms6aHJlZj0nI2ljb24tZGVwYXJ0dXJlJz48L3VzZT4NCiAgPC9zdmc+DQogICAgPHNwYW4+0JLRi9C70LXRgiDQuNC3IHt7ZnJvbX19PC9zcGFuPg0KICA8L2Rpdj4NCiAgPGRpdiBjbGFzcz0iaG90ZWxfX29mZmVyLWZvb2QiPg0KICAgIDxzdmc+DQogICAgPHVzZSB4bGluazpocmVmPScjaWNvbi1mb29kJz48L3VzZT4NCiAgPC9zdmc+DQogICAgPHNwYW4+e3tmb29kfX08L3NwYW4+DQogIDwvZGl2Pg0KICA8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItaG91c2VzIj4NCiAgICA8c3ZnPg0KICAgIDx1c2UgeGxpbms6aHJlZj0nI2ljb24tYXBhcnRtZW50Jz48L3VzZT4NCiAgPC9zdmc+DQogICAgPHNwYW4+e3tob3VzZXN9fTwvc3Bhbj4NCiAgPC9kaXY+DQo8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItcHJpY2UiPg0KICAgPGI+e3twcmljZXN9feKCrDwvYj4NCi/Rh9C10LsNCjwvZGl2Pg0KPGRpdiBjbGFzcz0iaG90ZWxfX29mZmVyLWRlc2NyaXB0aW9uIj4NCjxiPtCm0LXQvdCwINC90LAg0L7QtNC90L7Qs9C+INGH0LXQu9C+0LLQtdC60LAgPC9iPg0K0LTQtdC50YHRgtCy0LjRgtC10LvRjNC90LAg0L/RgNC4INGA0LDQt9C80LXRidC10L3QuNC4INCyINC00LLRg9GF0LzQtdGB0YLQvdC+0Lwg0L3QvtC80LXRgNC1LiDQptC10L3QsCDQt9Cw0LLQuNGB0LjRgiDQvtGCINC60L7Qu9C40YfQtdGB0YLQstCwINC80LXRgdGCINC4INC80L7QttC10YIg0LjQt9C80LXQvdC40YLRjNGB0Y8uDQo8L2Rpdj4NCjxkaXYgY2xhc3M9Imd1ZXN0cyI+DQogIDxsYWJlbCBmb3I9Imd1ZXN0cyI+0JrQvtC70LjRh9C10YHRgtCy0L4g0L7RgtC00YvRhdCw0Y7RidC40YU8L2xhYmVsPg0KICAgPGxhYmVsIGZvcj0ib2xkIiBjbGFzcz0ibGFiZWwiPtCS0LfRgNC+0YHQu9C40YU8L2xhYmVsPg0KICA8aW5wdXQgaWQ9Im9sZCIgbmFtZT0ib2xkIiB0eXBlPSJ0ZXh0Ij4NCiAgPGxhYmVsIGZvcj0iY2hpbGQiIGNsYXNzPSJsYWJlbCI+0LTQtdGC0LXQuTwvbGFiZWw+DQogIDxpbnB1dCBpZD0iY2hpbGQiIG5hbWU9ImNoaWxkIiB0eXBlPSJ0ZXh0Ij4NCjwvZGl2Pg0KPGRpdiBjbGFzcz0iaG90ZWxfX29mZmVyLXRvdGFsIj4NCiAg0J7QsdGJ0LDRjyDRgdGC0L7QuNC80L7RgdGC0Ywg0YLRg9GA0LA6DQo8c3Bhbj4NCiAgPGIgaWQ9InByaWNlIj4xIDQyOeKCrDwvYj4NCjwvc3Bhbj4NCjwvZGl2Pg0KPGJ1dHRvbiB0eXBlPSJidXR0b24iIGNsYXNzPSJob3RlbF9fb2ZmZXItYnV0dG9uIGJ1dHRvbi1wcmltYXJ5Ij4NCiAg0JHRgNC+0L3QuNGA0L7QstCw0YLRjA0KPC9idXR0b24+DQo8ZGl2IGNsYXNzPSJob3RlbF9fb2ZmZXItcG9saWN5Ij4NCjxzdmc+DQogIDx1c2UgeGxpbms6aHJlZj0nI2ljb24tcG9saWN5LWxvY2snPjwvdXNlPg0KPC9zdmc+DQogIDxkaXY+DQogINCS0LDRiNC4INC00LDQvdC90YvQtSDQvdCw0LTQtdC20L3QviDQt9Cw0YnQuNGJ0LXQvdGLINC4INC+0LHRgNCw0LHQsNGC0YvQstCw0Y7RgtGB0Y8g0YHQvtCz0LvQsNGB0L3QviDRgSANCiAgPHNwYW4+DQogIA0KICDRg9GB0LvQvtCy0LjRj9C80Lgg0L7QsdGA0LDQsdC+0YLQutC4INC70LjRh9C90YvRhSDQtNCw0L3QvdGL0YUNCiAgPC9zcGFuPg0KDQogIDwvZGl2Pg0KPC9kaXY+DQo8L2Rpdj4NCjwvZm9ybT4NCiAg");let i={...a};const I="{",u="}",s=I+I,n=u+u;function Q(t){let e=c,o=10,l=0;for(;l<o&&e.indexOf(s+"#if")!==-1;)l++,e=e.replace(new RegExp(`${s}#if\\s+([^}]+?)${n}([\\s\\S]*?)${s}else\\s*${n}([\\s\\S]*?)${s}\\/if\\s*${n}`,"g"),(C,N,f,m)=>t[N.trim()]?f:m),e=e.replace(new RegExp(`${s}#if\\s+([^}]+?)${n}([\\s\\S]*?)${s}\\/if\\s*${n}`,"g"),(C,N,f)=>t[N.trim()]?f:""),e=e.replace(new RegExp(`${s}#if\\s*\\((eq\\s+([^\\s]+)\\s+"([^"]+)"\\s*)\\)${n}([\\s\\S]*?)${s}else\\s*${n}([\\s\\S]*?)${s}\\/if\\s*${n}`,"g"),(C,N,f,m,G,P)=>t[f]===m?G:P),e=e.replace(new RegExp(`${s}#if\\s*\\((eq\\s+([^\\s]+)\\s+"([^"]+)"\\s*)\\)${n}([\\s\\S]*?)${s}\\/if\\s*${n}`,"g"),(C,N,f,m,G)=>t[f]===m?G:"");return Object.keys(t).forEach(C=>{const N=new RegExp(`${s}\\s*${C}\\s*${n}`,"g");e=e.replace(N,t[C]??"")}),e=e.replace(/\s[a-zA-Z0-9_-]+=['"]\s*['"]/g,""),e=e.replace(new RegExp(`${s}[^}]+?${n}`,"g"),""),e}function p(t){const e=Q(t),o=document.createElement("div");return o.innerHTML=e.trim(),o.firstElementChild}let g=p(i);const d={};function b(t){if(i={...i,...t},g.parentElement){const e=g.parentElement,o=p(i);return Object.keys(d).forEach(l=>o[l]=d[l]),e.replaceChild(o,g),g=o,o}else{const e=p(i);return Object.keys(d).forEach(o=>e[o]=d[o]),g=e,e}}return d.update=b,d.toString=()=>g?.outerHTML??"",d.render=t=>(t&&t.appendChild&&t.appendChild(g),g),Object.keys(d).forEach(t=>g[t]=d[t]),g}async function v(a,r){const c=localStorage.getItem("token");try{const i=await h.post("https://deserving-apparel-f938801c39.strapiapp.com/api/orders",{data:r},{headers:{Authorization:`Bearer ${c}`}});return console.log("created ",i.data),i.data}catch(i){console.error("error:",i)}}const A=new URLSearchParams(window.location.search),z=A.get("id"),L=await R(z);function x(){const a=document.querySelector(".hotel__offer");if(!a)return;const r=D({night:7,from:L.from,food:L.food,houses:L.houses,prices:L.price});return a.appendChild(r)}const S=await j();function y(){document.querySelector(".mySwiperHotDeals")&&new Y(".mySwiperHotDeals",{modules:[Z,w],loop:!0,slidesPerView:3,spaceBetween:25,navigation:{nextEl:".swiper__hotdeals-next",prevEl:".swiper__hotdeals-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:15},768:{slidesPerView:2,spaceBetween:28},1200:{slidesPerView:3,spaceBetween:26}}})}function B(){const a=document.querySelector(".hotdeals__container");a&&S.forEach(r=>{let c="";for(let I=0;I<r.stars;I++)c+=`
      <svg class="hotdeals__category-star">
      <use xlink:href="#icon-star-shiny"></use>
      </svg>`;const i=X({img:r.img[0].url,data:r.data,location:r.location,title:r.title,price:r.price,oldPrice:r.oldPrice,priceCount:r.priceCount,stars:c});a.appendChild(i)})}x();y();B();async function J(){const a=Date.now(),r=new Date().toISOString(),c=localStorage.getItem("userId");if(!c){console.log("не авторизований користувач"),window.location.href="/ClubTravel/html/pages/authorization.html?tab=authorization";return}const i={orderNumber:a,orderPrice:679,orderStatus:!1,orderDate:r,users_permissions_user:c};try{await v(c,i),console.log("замовлення додано")}catch(I){console.log("error:",I)}}const H=document.querySelector(".hotel__offer-button");H.addEventListener("click",J);
