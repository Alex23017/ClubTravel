import"./oneHotelOffer.js";import"./main2.js";/* empty css            */import{a as p}from"./api.js";import{A as E}from"./variables.js";import"./authorization2.js";async function f(e){try{const t=await p.post("http://localhost:1337/api/offer-consultations",{data:e},{headers:{Authorization:`Bearer ${E.API_TOKEN}`}});return console.log("created ",t.data),t.data}catch(t){console.error("error:",t)}}const r=document.querySelectorAll(".tab__name"),a=document.querySelectorAll(".tab__item"),h=document.querySelectorAll(".tab__next"),L=document.querySelector(".tab__category"),i=document.querySelectorAll(".tab__category-item");document.addEventListener("click",e=>{const t=e.target.matches("[data-dropdown-button]")||e.target.closest("[data-dropdown-button]");let o=null;t&&(o=e.target.closest("[data-dropdown]"),o.classList.toggle("open")),document.querySelectorAll("[data-dropdown].open").forEach(n=>{n!==o&&n.classList.remove("open")})});document.addEventListener("click",e=>{if(!e.target.classList.contains("dropdown__item"))return;const t=e.target.closest(".dropdown");t.querySelector(".dropdown__value").textContent=e.target.textContent,t.classList.remove("open")});document.addEventListener("click",e=>{const t=e.target.closest(".counter__btn");if(!t)return;const n=t.closest("[data-counter]").querySelector(".counter__value");let c=Number(n.textContent);t.classList.contains("counter__btn-minus")&&(c=Math.max(1,c-1)),t.classList.contains("counter__btn-plus")&&(c+=1),n.textContent=c});function x(e){r.forEach(t=>t.classList.remove("active")),a.forEach(t=>t.classList.remove("active")),r[e].classList.add("active"),a[e].classList.add("active")}h.forEach(e=>{e.addEventListener("click",()=>{const o=[...a].findIndex(n=>n.classList.contains("active"))+1;x(o)})});L.addEventListener("click",e=>{const t=e.target.closest(".tab__category-item");if(!t)return;const o=Array.from(i).indexOf(t);i.forEach((n,c)=>{c<=o?n.classList.add("active"):n.classList.remove("active")})});async function I(e){e.preventDefault();const t=document.getElementById("data"),o=document.getElementById("direction"),n=document.getElementById("guests"),c=document.getElementById("tourTime"),d=document.querySelectorAll(".tab__category-item.active").length,l=document.getElementById("desiredPrice"),u=document.getElementById("nutrition"),m=document.getElementById("wishes"),g=document.getElementById("name"),v=document.getElementById("phone"),y=document.getElementById("email"),s={direction:o.textContent,date:t.textContent,tourTime:c.textContent,guests:n.textContent,desiredPrice:l.value,nutrition:u.textContent,rating:d,wishes:m.value,name:g.value,phone:v.value,email:y.value};console.log("SEND:",s);try{await f(s),console.log("консультація додана")}catch(_){console.log("error:",_)}}document.getElementById("consultationForm").addEventListener("submit",I);
